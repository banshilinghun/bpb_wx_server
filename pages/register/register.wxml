<!--index.wxml-->
<view class="container">
  <view id='header'>
    <!-- 预约排队等的人数 -->
    <view class='b-install-header'>
      <view class='b-header-item'>
        <view class='b-header-wrapper'>
          <text class='b-header-top'>今日预约: {{ subscribeCount }}人</text>
          <text class='b-header-bottom b-header-black'>当前排队: {{ queueCount }}人</text>
        </view>
      </view>
      <view class='b-header-item'>
        <view class='b-header-wrapper'>
          <text class='b-header-top'>已签到: {{ signCount }}人</text>
          <text class='b-header-bottom'>已完成: {{ finishCount }}人</text>
        </view>
      </view>
    </view>
    <!-- 输入框 -->
    <view class="track-bg">
      <view class="track-input-block">
        <block wx:if="{{!isFocus}}">
          <input id="carcode" disabled="{{disabled}}" class="track-input" maxlength='20' type="text" placeholder="请输入车牌号" bindtap="showKeyboard" />
        </block>
        <block wx:else="{{isFocus}}">
          <input id="carcode" name="carcode" disabled="{{disabled}}" class="track-input" maxlength='20' type="text" placeholder="请输入车牌号" value='{{textValue}}' bindtap="bindFocus" />
        </block>
        <image class='search-icon' src='../../image/search_icon.png'></image>
      </view>
    </view>
  </view>
  <!-- 列表 -->
  <scroll-view scroll-y='true' style='height: {{ scrollHeight }}px'>
    <block wx:for="{{ installList }}" wx:key="item.id">
      <view class="item2" bindtap="handleDetail" data-item='item'>
        <view class="item-left">
          <image src="{{item.logo}}" class="image" />
        </view>
        <view class="item-middle">
          <view class="b-list-title">
            <text>{{item.adName}}</text>
          </view>
          <view class="myad-li">
            <view class="message">
              <view class='b-item-left'>{{ item.username }}</view>
              <view class="data-text theme-color">{{ item.phone }}</view>
            </view>
            <view class="message">
              <view class='b-item-left'>{{ item.plate }}</view>
              <view class="data-text">预约时间: {{item.sub_time}}</view>
            </view>
          </view>
        </view>
        <view class="item_right">
          <view wx:if="{{item.status==0}}">
            <text class="time timetxt2">未签到</text>
          </view>
          <view wx:elif="{{item.status==1}}">
            <text class="time">已签到</text>
          </view>
          <view wx:elif="{{item.status==2}}">
            <text class="time timetxt2">已完成</text>
          </view>
        </view>
      </view>
      <view class="b-line"></view>
    </block>
  </scroll-view>

  <block wx:if="{{ isKeyboard }}">
    <view class='keyboard-mask' bindtap='handleMaskClick'></view>
    <view class="keyboard">

      <!--省份简写键盘-->
      <view class="td td_nor" wx:for="{{keyboardValue}}" wx:for-index="idx" wx:for-item="itemName" wx:key="*this" bindtap="tapKeyboard" data-index="{{idx}}" data-val="{{itemName}}" hover-class="board_bg" hover-start-time="0" hover-stay-time="80">
        {{itemName}}
      </view>

      <!--数字键盘不可点击-->
      <view wx:if="{{specialBtn && !tapNum}}" class="td td_num board_bg" wx:for="{{keyboardNumber}}" wx:for-index="idx" wx:for-item="itemName" wx:key="*this">
        {{itemName}}
      </view>

      <!--数字键盘可点击-->
      <view wx:if="{{specialBtn && tapNum}}" class="td td_num" wx:for="{{keyboardNumber}}" wx:for-index="idx" wx:for-item="itemName" wx:key="*this" bindtap="tapKeyboard" data-index="{{idx}}" data-val="{{itemName}}" hover-class="board_bg" hover-start-time="0"
        hover-stay-time="80">
        {{itemName}}
      </view>

      <!--字母键盘-->
      <view wx:if="{{specialBtn}}" class="td td_num" wx:for="{{keyboardAlph}}" wx:for-index="idx" wx:for-item="itemName" wx:key="*this" hover-class="board_bg" hover-start-time="0" hover-stay-time="80">
        <view class="del_icon" wx:if="{{idx == 19}}" bindtap="tapKeyboard" data-index="{{idx}}" data-val="{{itemName}}">
          <!--<image src="/images/icon_del.png" mode="aspectFit" class="del_icon"></image>-->
        </view>
        <view wx:elif="{{idx != 19}}" bindtap="tapKeyboard" data-index="{{idx}}" data-val="{{itemName}}">
          {{itemName}}
        </view>
      </view>

      <!--完成按钮 start-->
      <view class="td td_spec_fin" wx:for="{{keyboard2For}}" wx:for-index="idx" wx:for-item="itemName" wx:key="*this" bindtap="tapSpecBtn" data-index="{{idx}}" data-val="{{itemName}}" wx:if="{{specialBtn}}" hover-class="board_bg_spec" hover-start-time="0" hover-stay-time="80">
        {{itemName}}
      </view>
      <!--完成按钮 end-->
    </view>
  </block>

</view>